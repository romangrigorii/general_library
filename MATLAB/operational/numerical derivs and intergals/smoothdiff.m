function y = smoothdiff(x,type,N,sr)
y = zeros(size(x));
L = length(y);
switch type
    case 1
        coefs = [[1 0 0 0 0 0 0 0 0 0 0];[2 1 0 0 0 0 0 0 0 0 0];[5 4 1 0 0 0 0 0 0 0 0];[14 14 6 1 0 0 0 0 0 0 0];[42 48 27 8 1 0 0 0 0 0 0];[132 165 110 44 10 1 0 0 0 0 0]; [429 572 429 208 65 12 1 0 0 0 0];[1430 2002 1638 910 350 90 14 1 0 0 0];[4862 7072 6188 3808 1700 544 119 16 1 0 0];[16796 25194 23256 15504 7752 2907 798 152 18 1 0];[58786 90440 87210 62016 33915 14364 4655 1120 189 20 1]];
        m = N - 1; 
        alpha  = 1/(2^(2*m + 1));
        for i = N+1:(L-N)
            for k = 1:N
                y(i) = y(i) + coefs(N,k)*(x(i+k) - x(i-k));
            end
            y(i) = y(i)*alpha*sr;
        end
end
